# 모노레포

1개의 레포지토리

- 관리 포인트를 줄이기 위함.

- 관리할 게 많아지면 이게 다 시간이고 비용이다 -> 우리의 납기일이 늦어지고, 거래처나 우리만의 서비스 배포가 늦어짐 -> 일정이 늦어짐 -> 매출이 떨어지고 -> 우리의 고용상태도 불안해진다.

- 개발 생산성도 올려줄 수 있다!

As-is
(프론트) 각 프로젝트마다 각각의 깃헙 레포지토리를 관리했었다면,

To-be
우리는 모두 프론트엔드이기 때문에, 재사용 가능한 파일들은 한데 모아서, 하나의 레포지토리로 관리하고, 그것을 푸시/풀 하면서 -> 공통된 개발 경험을 가져간다!
=> 생산성을 올리고, 비용을 낮춘다.

- 배포 문제, 네트워크 문제, 버저닝 등의 개발 외적인 것에 정신을 팔리지 않아도 됩니다.

##2. 어떻게 구현?

1. 하나의 루트 디렉토리를 만들어 놓는다.
2. `pnpm init`을 통해 `package.json`을 루트 디렉토리에 생성한다.
3. `apps`, `packages`라는 각 목적에 맞는 하위 디렉토리를 만든다.

- `apps` : 각 실제 배포되며, 유저에게 보여지는 서비스
  - mbti...
  - 반려동물...
- `packages` : 우리 팀/회사 안에서 재사용 가능한 파일들을 정리해 놓는다.
  - utils 함수들 정리
  - 디자인 시스템
  - etc..

4. `pnpm-workspace.yaml` 파일을 만들고, 아래 코드를 작성한다.

- \*이 하나면 그 직접 하위 디렉토리만 인식
- \*이 두 개면 그 모든 하위 디렉토리를 인식

```
packages:
  - "apps/**"
  - "packages/**"
```

5. 각 서비스의 목적에 맞게 파일을 디렉토리에 정리한다.

(Example)

- `apps/storybook` : 우리의 디자인시스템을 보여줄 서비스
  1. React + Vite 사용 (굳이 Next.js 필요 X)
  2. 루트 `package.json`에 `storybook: "pnpm --filter design-system storybook"` 명령어 등록
  3. `pnpm storybook`
